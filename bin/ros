#!/usr/bin/zsh

shell=$(basename $SHELL)
function source_ros_setup() {
  setup="$1/setup.$shell"
  [[ -f $setup ]] && echo " ✔ Loading ROS source '$setup'."; source $setup || echo " ✘ ROS source '$setup' NOT loaded. File does not exist."
}

ws_df="indigo"
[[ $# -gt 0 ]] && ws=$1 || ws=$ws_df
case "$ws" in
  "mlr")
    # source_ros_setup "/opt/ros/$ws_df";
    # export ROS_PACKAGE_PATH="$HOME/git/mlr/rospath:$ROS_PACKAGE_PATH";;
    source_ros_setup "$HOME/catkin/mlr_ws/devel";;
  "inria")
    source_ros_setup "$HOME/catkin/inria_ws/devel";;
  "thp")
    source_ros_setup "$HOME/catkin/thp_ws/devel";;
  "soft")
    source_ros_setup "$HOME/catkin/softhand_ws/devel";;
  "voice")
    source_ros_setup "$HOME/catkin/voice_ws/devel";;
  "pr2")
    source_ros_setup "$HOME/catkin/pr2_ws/devel";;
  "turtlesim")
    source_ros_setup "$HOME/catkin/turtlesim_ws/devel";;
  "indigo")
    source_ros_setup "/opt/ros/indigo";;
  "groovy")
    source_ros_setup "/opt/ros/groovy";;
  *)
    echo " ✘ Workspace '$ws' unknown";;
esac
